<!doctype html>
<!--
Awesome stuff

press 'esc' for overview
press 's' for speaker view window
press 'b' to blank the screen
press space bar to move to next slide

-->

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Spring NEARC 2015 Database Workshop</title>

    <meta name="description" content="Filter, Aggregate, and Combine: Taking Advantage of SQL Queries for Enterprise Databases">
    <meta name="author" content="Guido Stein">

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/league.css" id="theme">

    <!-- Code syntax highlighting -->
    <!--    <link rel="stylesheet" href="lib/css/zenburn.css"> -->
    <link rel="stylesheet" href="lib/css/railscasts.css">

    <!-- Printing and PDF exports -->
    <script>
        var link = document.createElement('link');
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = window.location.search.match(/print-pdf/gi) ? 'css/print/pdf.css' : 'css/print/paper.css';
        document.getElementsByTagName('head')[0].appendChild(link);
    </script>
    <!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->

</head>

<body>

    <div class="reveal">

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section id='title'>
                <h1>--Draft--</h1>
                <h1>Filter, Aggregate, and Combine</h1>
                <h3>Taking Advantage of SQL Queries for Enterprise Databases</h3>
                <p>
                    <small><a href="http://www.appgeo.com">Guido Stein - Applied Geographics, Inc.</a> / <a href="http://twitter.com/guidos">@guidos</a></small>
                </p>
                <p>
                    <small><a href="https://s3.amazonaws.com/guidos-public/presentations/Spring+NEARC+2015+Database+Workshop.pdf">pdf version</a></small>
                </p>
            </section>

            <section>
                <h1>Welcome</h1>
                <p>
                    Guido Like
                    <span class="fragment grow">Burrito
                    </span>
                </p>
            </section>

            <section>
                <ul>
                    <li>Enterprise Database overview</li>
                    <ul>
                        <li>Types</li>
                        <li>Spatial Types (OGC, WKT, ST)</li>
                        <li>Spatial Databases (PostGIS, MSSQL, SpatiaLite)</li>
                        <li>ESRI SDE</li>
                        <li>CartoDB &amp; PostGIS</li>
                    </ul>
                </ul>
            </section>

            <section>
                <ul>
                    <li>Setup</li>
                    <ul>
                        <li>CartoDB Account</li>
                        <li>Import Data</li>
                    </ul>
                </ul>
            </section>
            <section>
                <h2>Other Resources</h2>
                <ul style="list-style-type: none;">
                    <li>esri
                        <ul style="list-style-type: none;">
                            <li><a href="http://desktop.arcgis.com/en/desktop/latest/tools/data-management-toolbox/create-database-view.htm">Create Database View</a></li>
                            <li><a href="http://desktop.arcgis.com/en/desktop/latest/manage-data/databases/dbms-data-types-supported.htm">DBMS data types supported in ArcGIS</a></li>

                        </ul>
                    </li>
                    <li>CartoDB
                        <ul style="list-style-type: none;">
                            <li><a href="http://docs.cartodb.com/tips-and-tricks.html">Tips and Tricks</a></li>

                        </ul>
                    </li>
                    <li>Microsoft
                        <ul style="list-style-type: none;">
                            <li><a href="https://msdn.microsoft.com/en-us/library/bb933960.aspx">OGC Methods on Geometry Instances</a></li>
                        </ul>
                    </li>
                    <li>Discover Spatial
                        <ul style="list-style-type: none;">
                            <li><a href="http://discoverspatial.com">Turbocharge your geospatial education</a></li>
                        </ul>
                    </li>
                    <li>Boundless
                        <ul style="list-style-type: none;">
                            <li><a href="http://workshops.boundlessgeo.com/postgis-intro/spatial_relationships.html">Introduction to PostGIS: Spatial Relationships</a></li>
                        </ul>
                </ul>
            </section>

            <section data-background="https://s3.amazonaws.com/hakim-static/reveal-js/image-placeholder.png">
            </section>

            <section data-background="#dddddd">
                <pre>
                    <code class='sql'>SELECT * FROM my_table WHERE id = '5'</code>
                </pre>
            </section>

        </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
        // Full list of configuration options available at:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            transition: 'convex', // none/fade/slide/convex/concave/zoom

            // Optional reveal.js plugins
            dependencies: [{
                src: 'lib/js/classList.js',
                condition: function() {
                    return !document.body.classList;
                }
            }, {
                src: 'plugin/markdown/marked.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            }, {
                src: 'plugin/markdown/markdown.js',
                condition: function() {
                    return !!document.querySelector('[data-markdown]');
                }
            }, {
                src: 'plugin/highlight/highlight.js',
                async: true,
                condition: function() {
                    return !!document.querySelector('pre code');
                },
                callback: function() {
                    hljs.initHighlightingOnLoad();
                }

            }, {
                src: 'plugin/zoom-js/zoom.js',
                async: true
            }, {
                src: 'plugin/notes/notes.js',
                async: true
            }]
        });
    </script>

</body>

</html>
<!-- other styling

            <section data-background="#dddddd">
            </section>

            <section>
                <h2>Tabular Tables</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Item</th>
                            <th>Value</th>
                            <th>Quantity</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Apples</td>
                            <td>$1</td>
                            <td>7</td>
                            <tr>
                                <tr>
                                    <td>Lemonade</td>
                                    <td>$2</td>
                                    <td>18</td>
                                    <tr>
                                        <tr>
                                            <td>Bread</td>
                                            <td>$3</td>
                                            <td>2</td>
                                            <tr>
                    </tbody>
                </table>
            </section>

-->


<!-- import from google docs

Filter, Aggregate, and Combine: Taking Advantage of SQL Queries for Enterprise Databases

If you are interested in getting comfortable writing queries with SQL and SQL spatial data types to take advantage of your enterprise data, then this is a great place to start. This session will introduce you to the SQL skills you need to write PostgreGIS spatial queries. This will be a hands on tutorial using real data in a CartoDB test environment. Using these SQL skills you will be able to generate useful SDE views with a Geodatabase stored in PostgreSQL DBMS.



Enterprise Database overview
Types
Spatial Types (OGC, WKT, ST)
Spatial Databases (PostGIS, MSSQL, SpatiaLite)
ESRI SDE
CartoDB & PostGIS

Setup Working environment
CartoDB create account
Import data

Case Study 1
select
where
order by
group by

Case Study 2
left outer join
sub joins

Case Study 3
geom
wkt
srid

Case Study 3
spatial joins

Case Study 4
spatial queries, aggregations, and sub queriesâ€¦ oh my
DATA

Boston Rodent Data(CSV)
https://data.cityofboston.gov/api/views/ynt4-n6g9/rows.csv?accessType=DOWNLOAD

Political Boundaries
http://wsgw.mass.gov/data/gispub/shape/state/townssurvey_shp.zip

Big Belly Trash Locations (needs lat/lon processesd
https://data.cityofboston.gov/api/views/42qi-w8d7/rows.csv?accessType=DOWNLOAD

ALTER TABLE big_belly_locations
ADD latitude double precision

ALTER TABLE big_belly_locations
ADD longitude double precision



UPDATE big_belly_locations
SET latitude = CAST ((regexp_matches(LOCATION, '[(](.*),(.*)[)]'))[1] AS double precision)

UPDATE big_belly_locations
SET longitude = CAST ((regexp_matches(LOCATION, '[(](.*),(.*)[)]'))[2] AS double precision)


Neighborhood Boundaries
https://data.cityofboston.gov/download/af56-j7tb/application/zip

CartoDB Tips and tricks
http://docs.cartodb.com/tips-and-tricks.html


-->
